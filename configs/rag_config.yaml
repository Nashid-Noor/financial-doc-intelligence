# RAG System Configuration
# Financial Document Intelligence Platform

retrieval:
  # Embedding model settings
  embedding_model: "BAAI/bge-large-en-v1.5"
  embedding_dimension: 1024
  
  # Vector store settings
  vector_store:
    type: "qdrant"
    collection_name: "financial_docs"
    host: "localhost"
    port: 6333
    # Use ":memory:" for development, persistent storage for production
    path: ":memory:"
  
  # Chunking settings
  chunking:
    chunk_size: 512  # tokens
    chunk_overlap: 50  # tokens
    min_chunk_size: 100
    preserve_tables: true
    preserve_sentences: true
  
  # Hybrid search settings
  hybrid_search:
    semantic_weight: 0.6
    keyword_weight: 0.4
    top_k: 10
    rerank: true
    rerank_model: "cross-encoder/ms-marco-MiniLM-L-6-v2"

generation:
  # Generation settings
  max_new_tokens: 512
  temperature: 0.1
  top_p: 0.95
  do_sample: false
  
  # Prompt settings
  system_prompt: |
    You are a financial analyst AI assistant specialized in analyzing SEC filings 
    (10-K and 10-Q reports). Your task is to answer questions about financial 
    documents accurately and provide citations for your answers.
    
    Guidelines:
    - Be precise with numerical values
    - Always cite the source document, page, and section
    - If calculation is required, show your work
    - If information is not available, say so clearly
    - Use professional financial terminology

citations:
  # Citation settings
  include_page_numbers: true
  include_section_names: true
  include_filing_type: true
  include_company: true
  max_citations: 5
  
numerical_reasoning:
  # Operations supported
  operations:
    - growth_rate
    - ratio
    - percentage
    - sum
    - average
    - difference
  
  # Formatting
  decimal_places: 2
  use_commas: true
  currency_symbol: "$"
